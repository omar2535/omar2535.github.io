<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VScode markdown pdf in WSL1 | Omar2535</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="How do I convert markdown to pdf in vscode WSL">
    
    <link rel="preload" href="/assets/css/0.styles.de540ae2.css" as="style"><link rel="preload" href="/assets/js/app.e90b9e2c.js" as="script"><link rel="preload" href="/assets/js/2.53b2ba1e.js" as="script"><link rel="preload" href="/assets/js/1.cc48f7d2.js" as="script"><link rel="preload" href="/assets/js/29.9c8ed229.js" as="script"><link rel="prefetch" href="/assets/js/10.fc1976ac.js"><link rel="prefetch" href="/assets/js/100.802379ba.js"><link rel="prefetch" href="/assets/js/101.30b4b6e0.js"><link rel="prefetch" href="/assets/js/102.0d4fb7b7.js"><link rel="prefetch" href="/assets/js/103.16270e29.js"><link rel="prefetch" href="/assets/js/104.e764e46c.js"><link rel="prefetch" href="/assets/js/105.a445ecda.js"><link rel="prefetch" href="/assets/js/11.3fce9d23.js"><link rel="prefetch" href="/assets/js/12.dc96233c.js"><link rel="prefetch" href="/assets/js/13.1e689f64.js"><link rel="prefetch" href="/assets/js/14.e1329e2d.js"><link rel="prefetch" href="/assets/js/15.67f7e054.js"><link rel="prefetch" href="/assets/js/16.2ecd0653.js"><link rel="prefetch" href="/assets/js/17.798e9394.js"><link rel="prefetch" href="/assets/js/18.03a744a4.js"><link rel="prefetch" href="/assets/js/19.975dd7c7.js"><link rel="prefetch" href="/assets/js/20.c1b6bd0d.js"><link rel="prefetch" href="/assets/js/21.88b275c9.js"><link rel="prefetch" href="/assets/js/22.ef911ad5.js"><link rel="prefetch" href="/assets/js/23.df6ce246.js"><link rel="prefetch" href="/assets/js/24.ba61c33c.js"><link rel="prefetch" href="/assets/js/25.3195c123.js"><link rel="prefetch" href="/assets/js/26.3d0f6a9a.js"><link rel="prefetch" href="/assets/js/27.92afec31.js"><link rel="prefetch" href="/assets/js/28.2565fed9.js"><link rel="prefetch" href="/assets/js/3.74092176.js"><link rel="prefetch" href="/assets/js/30.817fadc8.js"><link rel="prefetch" href="/assets/js/31.e95af4f7.js"><link rel="prefetch" href="/assets/js/32.65c1a09c.js"><link rel="prefetch" href="/assets/js/33.2d7964f4.js"><link rel="prefetch" href="/assets/js/34.4f59fa55.js"><link rel="prefetch" href="/assets/js/35.493484d8.js"><link rel="prefetch" href="/assets/js/36.a9fd784e.js"><link rel="prefetch" href="/assets/js/37.59f79452.js"><link rel="prefetch" href="/assets/js/38.543508ec.js"><link rel="prefetch" href="/assets/js/39.5de45353.js"><link rel="prefetch" href="/assets/js/4.a791e2ff.js"><link rel="prefetch" href="/assets/js/40.7faa7d8a.js"><link rel="prefetch" href="/assets/js/41.80e1e691.js"><link rel="prefetch" href="/assets/js/42.6fe9445e.js"><link rel="prefetch" href="/assets/js/43.e9329d79.js"><link rel="prefetch" href="/assets/js/44.32cc9330.js"><link rel="prefetch" href="/assets/js/45.f1610206.js"><link rel="prefetch" href="/assets/js/46.f274e4ef.js"><link rel="prefetch" href="/assets/js/47.1555cf29.js"><link rel="prefetch" href="/assets/js/48.9c505bfd.js"><link rel="prefetch" href="/assets/js/49.7c1675a4.js"><link rel="prefetch" href="/assets/js/5.213e8a2f.js"><link rel="prefetch" href="/assets/js/50.d752392d.js"><link rel="prefetch" href="/assets/js/51.44c263fa.js"><link rel="prefetch" href="/assets/js/52.bdd1809f.js"><link rel="prefetch" href="/assets/js/53.7cf056c5.js"><link rel="prefetch" href="/assets/js/54.aad110c0.js"><link rel="prefetch" href="/assets/js/55.1f1d59a8.js"><link rel="prefetch" href="/assets/js/56.4bdb98d5.js"><link rel="prefetch" href="/assets/js/57.df2c4b8a.js"><link rel="prefetch" href="/assets/js/58.cd5ccc48.js"><link rel="prefetch" href="/assets/js/59.7926c0a7.js"><link rel="prefetch" href="/assets/js/6.759a3df7.js"><link rel="prefetch" href="/assets/js/60.684e9e0f.js"><link rel="prefetch" href="/assets/js/61.d8f705f9.js"><link rel="prefetch" href="/assets/js/62.35151300.js"><link rel="prefetch" href="/assets/js/63.e354ea08.js"><link rel="prefetch" href="/assets/js/64.98c17167.js"><link rel="prefetch" href="/assets/js/65.ce422c7c.js"><link rel="prefetch" href="/assets/js/66.22abb726.js"><link rel="prefetch" href="/assets/js/67.a09ec169.js"><link rel="prefetch" href="/assets/js/68.642bfba7.js"><link rel="prefetch" href="/assets/js/69.89db523c.js"><link rel="prefetch" href="/assets/js/7.2b5aa5ce.js"><link rel="prefetch" href="/assets/js/70.f9b2468f.js"><link rel="prefetch" href="/assets/js/71.982a3d97.js"><link rel="prefetch" href="/assets/js/72.75edbe60.js"><link rel="prefetch" href="/assets/js/73.0f515ae3.js"><link rel="prefetch" href="/assets/js/74.52f434ef.js"><link rel="prefetch" href="/assets/js/75.4bd299d5.js"><link rel="prefetch" href="/assets/js/76.51b91894.js"><link rel="prefetch" href="/assets/js/77.494a4447.js"><link rel="prefetch" href="/assets/js/78.c17fe7b0.js"><link rel="prefetch" href="/assets/js/79.543318f8.js"><link rel="prefetch" href="/assets/js/80.0b97115b.js"><link rel="prefetch" href="/assets/js/81.66d869c7.js"><link rel="prefetch" href="/assets/js/82.8e8926e8.js"><link rel="prefetch" href="/assets/js/83.dff10bf7.js"><link rel="prefetch" href="/assets/js/84.2ac781a8.js"><link rel="prefetch" href="/assets/js/85.60293f19.js"><link rel="prefetch" href="/assets/js/86.46d7126b.js"><link rel="prefetch" href="/assets/js/87.0c5929f3.js"><link rel="prefetch" href="/assets/js/88.9e892158.js"><link rel="prefetch" href="/assets/js/89.5cceac4c.js"><link rel="prefetch" href="/assets/js/90.be2516f3.js"><link rel="prefetch" href="/assets/js/91.750b3c5c.js"><link rel="prefetch" href="/assets/js/92.8d607653.js"><link rel="prefetch" href="/assets/js/93.b7d0bb09.js"><link rel="prefetch" href="/assets/js/94.8d3e3ddd.js"><link rel="prefetch" href="/assets/js/95.a036ab7d.js"><link rel="prefetch" href="/assets/js/96.f6e35d5a.js"><link rel="prefetch" href="/assets/js/97.6d0c1d57.js"><link rel="prefetch" href="/assets/js/98.df2da740.js"><link rel="prefetch" href="/assets/js/99.83ea7e0f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.b1b44aa7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.de540ae2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Omar2535</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  Blog
</a></div><div class="nav-item"><a href="/misc/" class="nav-link">
  Misc
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About me
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  Blog
</a></div><div class="nav-item"><a href="/misc/" class="nav-link">
  Misc
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  About me
</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="introduction"><a href="#introduction" class="header-anchor">#</a> Introduction</h2> <p><img src="/images/blog/vscode_markdown_pdf.PNG" alt="vscode image"></p> <p>Today I was really struggling to convert my pentesting writeups to PDF. For a little context, my notes are kept in a vscode workspace fully written in markdown. Each machine has their own markdown file and images are simply imported into the markdown file by path inclusion. The main reason I chose to do this was because I was already familiar with markdown and I liked having easy files to commit to github which I use as my main source of backup.</p> <h2 id="context"><a href="#context" class="header-anchor">#</a> Context</h2> <p>I tried to export all of my markdown files into a single pdf with <a href="https://pandoc.org/" target="_blank" rel="noopener noreferrer">pandoc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> but it didn't help as all of my code blocks ended looking up like this:</p> <p><img src="/images/blog/code_block_overflow.PNG" alt="code_block_overflow"></p> <p>After digging through stack overflow and stack exchange ansewers, it seemed like there weren't really any good answers to mitigate this. I also disliked the formatting that pandoc output by default, so I decided to stick with the vscode pdf generator.</p> <h2 id="problem"><a href="#problem" class="header-anchor">#</a> Problem</h2> <p>Now the problem came when I tried to export my PDF file in WSL1. My WSL is running Ubuntu 20.02 and using the markdown PDF generator, it always gave me errors either with shared libraries or chrome not being available in Ubuntu. It however <em>did</em> work fine in Windows VScode - just not WSL vscode.</p> <h2 id="solution"><a href="#solution" class="header-anchor">#</a> Solution</h2> <p>The solution is to simply install all of the missing libraries and required dependencies.</p> <p>The following commands below is what worked for me; however, your mileage may vary. Also be warned that I'm not sure if all of these commands are necessary; this is just what worked for me and it may be different for you. If you do find any commands that weren't necessary please feel free to let me know and I'll gladly update my post.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">npm</span> <span class="token function">install</span> puppeteer <span class="token parameter variable">-g</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> chromium-browser

<span class="token comment"># Have to do this because of some issue with WSL1: https://github.com/microsoft/WSL/issues/4898</span>
<span class="token function">wget</span> https://launchpad.net/<span class="token punctuation">\</span>~rafaeldtinoco/+archive/ubuntu/lp1871129/+files/libc6_2.31-0ubuntu8+lp1871129<span class="token punctuation">\</span>~1_amd64.deb

<span class="token function">sudo</span> dpkg <span class="token parameter variable">--install</span> libc6_2.31-0ubuntu8+lp1871129~1_amd64.deb
<span class="token function">sudo</span> apt-mark hold libc6
<span class="token function">sudo</span> <span class="token function">apt</span> --fix-broken <span class="token function">install</span>
<span class="token function">sudo</span> <span class="token function">apt</span> full-upgrade

<span class="token comment"># install chrome</span>
<span class="token function">wget</span> <span class="token parameter variable">-q</span> <span class="token parameter variable">-O</span> - https://dl.google.com/linux/linux_signing_key.pub <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token function">wget</span> https://dl.google.com/linux/direct/google-chrome-beta_current_amd64.deb
<span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> google-chrome-beta_current_amd64.deb
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token parameter variable">-f</span> <span class="token function">install</span>
<span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> google-chrome-beta_current_amd64.deb

<span class="token comment"># install libraries</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> gconf-service libasound2 libatk1.0-0 libc6 <span class="token punctuation">\</span> libcairo2 <span class="token punctuation">\</span>
libcups2 libdbus-1-3 libexpat1 libfontconfig1 libgcc1 libgconf-2-4 <span class="token punctuation">\</span>
libgdk-pixbuf2.0-0 libglib2.0-0 libgtk-3-0 libnspr4 libpango-1.0-0 <span class="token punctuation">\</span>
libpangocairo-1.0-0 libstdc++6 libx11-6 libx11-xcb1 libxcb1 <span class="token punctuation">\</span>
libxcomposite1 libxcursor1 libxdamage1 libxext6 libxfixes3 libxi6 <span class="token punctuation">\</span>
libxrandr2 libxrender1 libxss1 libxtst6 ca-certificates fonts-liberation <span class="token punctuation">\</span>
libappindicator1 libnss3 lsb-release xdg-utils <span class="token function">wget</span> x11vnc x11-xkb-utils <span class="token punctuation">\</span>
xfonts-100dpi xfonts-75dpi xfonts-scalable xfonts-cyrillic x11-apps xvfb
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.e90b9e2c.js" defer></script><script src="/assets/js/2.53b2ba1e.js" defer></script><script src="/assets/js/1.cc48f7d2.js" defer></script><script src="/assets/js/29.9c8ed229.js" defer></script>
  </body>
</html>
