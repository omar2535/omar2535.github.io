(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{427:function(e,a,t){"use strict";t.r(a);var r=t(13),s=Object(r.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"october"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#october"}},[e._v("#")]),e._v(" October")]),e._v(" "),a("p",[e._v("IP: "),a("code",[e._v("10.10.10.16")])]),e._v(" "),a("h2",{attrs:{id:"port-80"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#port-80"}},[e._v("#")]),e._v(" Port 80")]),e._v(" "),a("ul",[a("li",[e._v("Runs vanilla CMS")]),e._v(" "),a("li",[a("code",[e._v("/backend")]),e._v(" login password of "),a("code",[e._v("admin")]),e._v(" / "),a("code",[e._v("admin")])]),e._v(" "),a("li",[e._v("We have code execution inside media tab where we can upload "),a("code",[e._v("php5")]),e._v(" files")]),e._v(" "),a("li",[e._v("Upload a shell from the media tab and change the extension to "),a("code",[e._v("php5")]),e._v(" with burp")]),e._v(" "),a("li",[e._v("Now navigate to "),a("code",[e._v("http://10.10.10.16/storage/app/media/php-reverse-shell.php5")]),e._v(" and we have a reverse shell on our listener")])]),e._v(" "),a("p",[e._v("Get user.txt: "),a("code",[e._v("29161ca87aa3d34929dc46efc40c89c0")])]),e._v(" "),a("h2",{attrs:{id:"priv-esc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#priv-esc"}},[e._v("#")]),e._v(" Priv esc")]),e._v(" "),a("p",[e._v("Spawn a TTY shell:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("python "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-c")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'import pty; pty.spawn(\"/bin/sh\")'")]),e._v("\n")])])]),a("ul",[a("li",[e._v("Running linux 4.4.0-78-generic (2017)")]),e._v(" "),a("li",[e._v("Interesting file called "),a("code",[e._v("/usr/local/bin/ovrflw")]),e._v(" "),a("ul",[a("li",[e._v("Seems like this file will have to be exploited via buffer overflow")])])])]),e._v(" "),a("h2",{attrs:{id:"buffer-overflow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffer-overflow"}},[e._v("#")]),e._v(" Buffer overflow")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Putting in "),a("code",[e._v("112")]),e._v(" A's will trigger a crash on the "),a("code",[e._v("overflw")]),e._v(" program")])]),e._v(" "),a("li",[a("p",[e._v("Using EDB, we can find out information to use EIP to our advantage")])])]),e._v(" "),a("p",[e._v("Generate a pattern to find the offset for EIP using")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("msf-pattern_create "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-l")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1000")]),e._v("\n")])])]),a("p",[e._v("offset at "),a("code",[e._v("112")]),e._v(".")])])}),[],!1,null,null,null);a.default=s.exports}}]);